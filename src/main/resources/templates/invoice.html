<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title> Management</title>
    <!-- Custom fonts for this template -->
    <link th:href="@{/vendor/fontawesome-free/css/all.min.css}" rel="stylesheet" type="text/css">
    <link
            th:href="@{https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i}"
            rel="stylesheet">
    <!-- Custom styles for this template -->
    <link th:href="@{/css/sb-admin-2.min.css}" rel="stylesheet">
    <!-- Custom styles for this page -->
    <link th:href="@{/vendor/datatables/dataTables.bootstrap4.min.css}" rel="stylesheet">
</head>

<div class ="bg-black topbar mb-4 static-top shadow text-center" >
    <br>
    <h1 class="h3 mb-2 text-gray-800" > Thanh toán </h1>
</div>
<body>
<div class = "container">
    <h2> Chi tiết hóa đơn </h2>
    <form th:action = "@{/payInvoice}" th:object = "${invoice}" method = "POST">
        <input type="hidden" name="invoiceId" th:value="${invoice.id}" />
        <table class = "table table-striped table-responsive-md">
            <thead class = "table-dark">
            <tr>
                <th>Tên hàng hóa</th>
                <th>Nhà cung cấp</th>
                <th>Đơn giá</th>
                <th>Số lượng nhập</th>
                <th>Thành tiền</th>
                <th>Ngày nhập</th>

            </tr>
            </thead>
            <tbody>
            <tr th:each="details : ${invoiceDetails}">
                <td th:text="${details.item.material.ten}"></td>
                <td th:text="${details.item.supplier.ten}"></td>
                <td th:text="${details.item.material.dongia}"></td>
                <td th:text="${details.soluongnhap}"></td>
                <td th:text="${details.thanhtien}"></td>
                <td th:text="${details.ngaynhap}"></td>

            </tr>
            </tbody>

            <hr>



        </table>
        <td th:text = "' Tổng tiền: ' + ${invoice.tongtien}"> </td>
        <br>
        <button th:if="${invoice.trangthai != 'Đã thanh toán'}" type="submit" class="btn btn-info col-2">Thanh toán</button>



    </form>


    <br>
    <a th:href="@{/invoice_list}" class="btn btn-primary">Quay lại</a>
</div>
</body>
</html>